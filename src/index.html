<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameBoy Emulator</title>
    <link rel="stylesheet" href="./style.css">
    <script src='PollenBoy/cpu.js'></script>
    <script src='PollenBoy/ops.js'></script>
    <script src='PollenBoy/mem.js'></script>
    <script src='PollenBoy/ppu.js'></script>
    <script src='PollenBoy/apu.js'></script>
    <script src='PollenBoy/joypad.js'></script>
</head>

<body>
    <canvas class="webgl"></canvas>

    <div id="nanawrap"></div>

    <div class='mama'>

        <!----- GameBoy div ----->
        <div class='spread'>
            <div class='gbwrap'>

                <div class='gbtop'>
                    <div class='screenwrap'>

                        <div class='screencontainer'>
                            <span id='nanastat' class='status_text'></span>
                        </div>

                    </div>
                </div>

                <div class='gbgap'></div>

                <div class='gbbottom'>
                    <!-- File input -->
                    <input id='nanafin' type='file' accept='.gb, .gbc, .bin, .rom' class='hide'>
                    <label for='nanafin' class='filebutton' style='width:200px;'>Choose ROM</label>
                    <br>

                    <label id='nanapause' class='roundbutton'></label>
                    <label id='nanareset' class='roundbutton'></label>

                    <!--Step Button
                <label id='nanapause' class='filebutton'>Step</label> -->
                </div>
            </div>
        </div>

        <!----- Settings div ----->
        <div class='spread'>
            <div class='setwrap'>

                <p class='title'>Settings</p>

                <p class='subtit'>Save files</p>
                <div>
                    <label id='nanaexportsave' class='smallbutton'>Export</label>
                    <input id='nanaimportsave' type='file' accept='.sav' class='hide'>
                    <label for='nanaimportsave' class='smallbutton'>Import</label>
                </div>

                <br>
                <details class='title' style='font-size: 16px'>
                    <summary style='user-select: none' onclick='this.blur()'>More settings:</summary>

                    <p class='subtit'>Color palletes</p>
                    <div>
                        <form>
                            <label for='palletelist' class='smalltxt'>Pick a pallete !</label>
                            <select name='palletelist' id='nanapallete'>
                            </select>
                        </form>

                        <br>
                        <label id='nanacustompallete' class='smallbutton'>Custom</label>
                    </div>

                    <p class='subtit'>Sound stuff</p>
                    <div>
                        <span class='smalltxt'>Volume: </span><br>
                        <input id='nanavolume' class='range' type='range' max='0.5' min='0' step='0.025'>
                        <br>

                        <span class='smalltxt'>Pitch Shift: </span><br>
                        <input id='nanapitchshift' class='range' type='range' max='800' min='-800' step='50'>
                    </div>

                </details>

            </div>
        </div>

    </div>

    <div class="controls-window">

        <button class="close" onclick="this.parentNode.style.display='none'">x</button>
        <h3>Controls:</h3>
        <p>
            Click the cartridge to load your ROM.<br/><br/>
            <strong>D-Pad</strong>: Arrow Keys<br/>
            <strong>B</strong>: X<br/>
            <strong>A</strong>: Z<br/>
            <strong>Start</strong>: Enter<br/>
            <strong>Select</strong>: Right Shift</p>
    </div>

    <div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
        <div class="modal__overlay" tabindex="-1" data-micromodal-close>
            <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title"
                aria-describedby="modal-1-content">
                <div role="document">
                    <header class="modal__header">
                        <h3 class="modal__title" id="modal-1-title">GameBoy Emulator</h3>
                        <button class="modal__close" aria-label="Close modal" aria-controls="modal__container1"
                            data-micromodal-close></button>
                    </header>
                    <main class="modal__content" id="modal-1-content">
                        <div class="text">
                            <p>
                                The Nintendo GameBoy was first released in 1989 and was an
                                iconic handheld console. Relive the golden years with this 3D
                                emulator!
                            </p>
                            <p>
                                It's a BYOR (bring your own ROM) policy here, but there's
                                plenty available online from places like
                                <a href="https://www.emulatorgames.net/roms/gameboy/" target="_blank"
                                    rel="nofolow">EmulatorGames.net</a>
                            </p>
                            <p><i>So fetch your ROM and kick it like it's 1989.</i></p>
                        </div>
                        <div class="image">
                            <img src="./img/mario.png" alt="Mario says hello" />
                        </div>
                    </main>
                    <footer class="modal__footer">
                        <button id="btnclose" class="modal__btn modal__btn-primary">Let's a go!</button>
                        <p class="sub-text">This project was created with ❤️ by Rockerby - check out the <a
                                href="https://github.com/Rockerby/threejs-gameboy">source code</a> for full credits.</p>
                    </footer>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./script.js"></script>

</body>

</html>